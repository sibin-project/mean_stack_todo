import{a as H,b as G,c as B,d as q,f as C}from"./chunk-PISYWTIY.js";import{C as u,Ea as R,Fa as T,G as d,Ga as V,H as f,I as k,J as M,Ja as j,Ka as D,La as F,Ma as P,Na as c,Oa as z,Pa as L,T as p,Y as S,Z as g,ba as v,ea as h,fa as n,ga as o,ha as s,ia as x,ja as b,ka as l,ma as m,na as N,o as A,oa as y,r as E,va as U}from"./chunk-4ZYX7Y4Y.js";function Y(t,a){if(t&1){let e=x();n(0,"div",19)(1,"div",20)(2,"p",21),m(3,"Signed in as"),o(),n(4,"p",22),m(5),o()(),n(6,"button",23),b("click",function(){d(e);let i=l(2);return f(i.logout())}),m(7," Sign out "),o()()}if(t&2){let e,r=l(2);p(5),N((e=r.authService.currentUser())==null?null:e.email)}}function ee(t,a){if(t&1){let e=x();n(0,"div",12)(1,"button",13),b("click",function(){d(e);let i=l();return f(i.toggleUserMenu())}),n(2,"div",14),m(3),o(),n(4,"span",15),m(5),o(),k(),n(6,"svg",16),s(7,"path",17),o()(),v(8,Y,8,1,"div",18),o()}if(t&2){let e,r,i=l();p(3),y(" ",((e=i.authService.currentUser())==null||e.name==null||(e=e.name.charAt(0))==null?null:e.toUpperCase())||"U"," "),p(2),y(" ",((r=i.authService.currentUser())==null?null:r.name)||"User"," "),p(3),h("ngIf",i.showUserMenu)}}function te(t,a){if(t&1){let e=x();n(0,"div",24),b("click",function(){d(e);let i=l();return f(i.showUserMenu=!1)}),o()}}var _=class t{constructor(a,e){this.authService=a;this.router=e}showUserMenu=!1;toggleUserMenu(){this.showUserMenu=!this.showUserMenu}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||t)(S(C),S(c))};static \u0275cmp=g({type:t,selectors:[["app-navbar"]],decls:13,vars:2,consts:[[1,"fixed","w-full","z-50","bg-white/80","backdrop-blur-lg","border-b","border-slate-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16"],["routerLink","/",1,"flex","items-center","gap-2","cursor-pointer"],[1,"w-8","h-8","bg-indigo-600","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"font-bold","text-xl","text-slate-900"],[1,"flex","items-center","gap-4"],["class","relative",4,"ngIf"],["class","fixed inset-0 z-40 bg-transparent",3,"click",4,"ngIf"],[1,"h-16"],[1,"relative"],["type","button",1,"flex","items-center","gap-2","bg-white","rounded-full","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"h-8","w-8","rounded-full","bg-indigo-100","flex","items-center","justify-center","text-indigo-600","font-bold","border","border-indigo-200"],[1,"hidden","md:block","text-sm","font-medium","text-slate-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-slate-400","hidden","md:block"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","origin-top-right absolute right-0 mt-2 w-48 rounded-xl shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 animate-fade-in",4,"ngIf"],[1,"origin-top-right","absolute","right-0","mt-2","w-48","rounded-xl","shadow-lg","py-1","bg-white","ring-1","ring-black","ring-opacity-5","animate-fade-in"],[1,"px-4","py-2","border-b","border-slate-100"],[1,"text-xs","text-slate-500"],[1,"text-sm","font-medium","text-slate-900","truncate"],[1,"w-full","text-left","px-4","py-2","text-sm","text-rose-600","hover:bg-rose-50",3,"click"],[1,"fixed","inset-0","z-40","bg-transparent",3,"click"]],template:function(e,r){e&1&&(n(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),k(),n(5,"svg",5),s(6,"path",6),o()(),M(),n(7,"span",7),m(8,"TaskMaster"),o()(),n(9,"div",8),v(10,ee,9,3,"div",9),o()()(),v(11,te,1,0,"div",10),o(),s(12,"div",11)),e&2&&(p(10),h("ngIf",r.authService.currentUser()),p(),h("ngIf",r.showUserMenu))},dependencies:[T,R,z],encapsulation:2})};var w=class t{title="MEAN Todo App";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-br","from-gray-50","to-gray-100","pt-16"]],template:function(e,r){e&1&&(s(0,"app-navbar"),n(1,"div",0),s(2,"router-outlet"),o())},dependencies:[P,_],encapsulation:2})};var K=(t,a)=>{let e=u(C),r=u(c);return e.isLoggedIn()?!0:(r.navigate(["/login"],{queryParams:{returnUrl:a.url}}),!1)};var O=[{path:"",loadComponent:()=>import("./chunk-JKPZL7DO.js").then(t=>t.LandingPageComponent)},{path:"login",loadComponent:()=>import("./chunk-TU2XK4XO.js").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-O2KTNXK6.js").then(t=>t.RegisterComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-IPOJZDKH.js").then(t=>t.DashboardComponent),canActivate:[K]},{path:"**",redirectTo:""}];var X=(t,a)=>{let e=u(c),r=localStorage.getItem("auth_token"),i=t.headers;r&&(i=i.set("Authorization",`Bearer ${r}`));let J=t.clone({headers:i,withCredentials:!0});return a(J).pipe(E(I=>(I.status===401&&e.navigate(["/login"]),A(()=>I))))};var re={apiKey:"AIzaSyDbVz-TwV1crTnhSDfG95PxygmX3jNpR5o",authDomain:"taskmaster-x.firebaseapp.com",projectId:"taskmaster-x",storageBucket:"taskmaster-x.firebasestorage.app",messagingSenderId:"144850345806",appId:"1:144850345806:web:8545205c9895c0652ec81f"},Z=[H(()=>G(re)),B(()=>q())];var $={providers:[U({eventCoalescing:!0}),L(O),j(F(),D([X])),...Z]};V(w,$).catch(t=>console.error(t));
